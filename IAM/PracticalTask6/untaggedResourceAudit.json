"parameters": {
    "tagName": {
        "type": "String",
        "metadata": {
            "displayName": "Tag Name 'Environment'",
            "description": "Tag 'Environment'"
        }
    }
},
"policyRule": {
    "if": {
        "allOf": [
            {
                "field": "type",
                "notEquals": "Microsoft.Resources/subscriptions/resourceGroups"
            },
            {
                "not": {
                    "field": "[resourceGroup().tags[parameters('Environment')]]",
                    "exists": "false"
                }
            }
        ]
    },
    "then": {
        "effect": "audit"
    }
}